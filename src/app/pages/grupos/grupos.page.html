<ion-header>
  <ion-toolbar class="main-header">
    <ion-title>Grupos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color="primary-color" class="main-body">
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="presentAlert();" color="fd">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-card class="grupos-card"> 
    <ion-list>
      <ion-item>
        <ion-label class="grupos-card__header">Meus grupos</ion-label>
        <ion-select placeholder="Selecionar" okText="OK" cancelText="Cancelar" [(ngModel)]="grupoSelecionado"
          name="selecionarGrupo" (ionChange)="exibirDetalhes()">
          <ion-select-option *ngFor="let grupo of (grupos | async)" [value]="grupo"> {{ grupo.nome }}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <!-- <ion-text [className]="grupos.length ? 'active' : 'inactive'">Nenhum participante encontrado, adicione novos abaixo</ion-text> -->
    </ion-list>

    <ion-card *ngFor="let participante of participantes" class="grupos-card__users">
      <ion-item>
        <ion-avatar slot="start">
          <img src="https://cdn.icon-icons.com/icons2/1736/PNG/512/4043232-avatar-batman-comics-hero_113278.png">
        </ion-avatar>

        <ion-label>{{ participante.login }}

          <ion-chip class="ion-float-right" (click)="gastoAdd(participante)">
            <ion-icon name="cash" color="fb"></ion-icon>
            <ion-icon name="add" color="fb"></ion-icon>
          </ion-chip>

        </ion-label>

      </ion-item>
    </ion-card>
  </ion-card>

  <ion-card class="bottom-m65">
    <ion-toolbar>
      <ion-searchbar type="text" [(ngModel)]="searchterm" (ionChange)="search($event)" placeholder="Buscar usuÃ¡rio por e-mail"></ion-searchbar>
      <ion-list>
        <ion-item *ngFor="let result of resultadosFiltrados" class="user-list">
          {{ result.email }}
          <ion-button color="fb" shape="round" fill="outline" size="small" slot="end"
            (click)="cadastrarEmGrupo(grupoSelecionado, result.name);">+</ion-button>
        </ion-item>
      </ion-list>
    </ion-toolbar>
  </ion-card>
  <!-- 
    [Para fazer] excluir usuario em grupo.
    [Se der tempo] definir adm e convidado em grupo. 
  -->

</ion-content>